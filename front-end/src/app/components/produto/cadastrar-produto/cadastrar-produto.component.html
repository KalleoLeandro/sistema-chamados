<!-- Begin Page Content -->
<div class="container-fluid">

    <!-- Page Heading -->
    <h1 class="h3 mb-2 text-gray-800">Cadastro de Produtos</h1>
    <div class="card mb-4">
        <div class="card-header py-3 mb-2">
            <h6 class="m-0 font-weight-bold text-primary">Dados do Produto</h6>
        </div>
        <div class="col-12">
            <form [formGroup]="cadastroForm">
                <div class="form-group">
                    <label>
                        Nome
                    </label>
                    <input type="text" formControlName="nome" class="form-control" name="nome">    
                    <small *ngIf="cadastroForm.controls['nome'].touched && cadastroForm.controls['nome'].invalid" class="text-danger">Campo obrigatório</small>                
                </div>
                <div class="form-group">
                    <label>
                        Preço de Custo
                    </label>
                    <input currencyMask formControlName="precoCusto" class="form-control" name="precoCusto"> 
                    <small *ngIf="cadastroForm.controls['precoCusto'].touched && cadastroForm.controls['precoCusto'].invalid" class="text-danger">Campo obrigatório</small>                                       
                </div>
                <div class="form-group">
                    <label>
                        Preço de Venda
                    </label>
                    <input currencyMask formControlName="precoVenda" class="form-control" name="precoVenda">
                    <small *ngIf="cadastroForm.controls['precoVenda'].touched && cadastroForm.controls['precoVenda'].invalid" class="text-danger">Campo obrigatório</small>                                        
                </div>
                <div class="form-group">
                    <label>
                        Quantidade
                    </label>
                    <input type="number" formControlName="quantidade" class="form-control" name="quantidade">
                    <small *ngIf="cadastroForm.controls['quantidade'].touched && cadastroForm.controls['quantidade'].invalid" class="text-danger">Campo obrigatório</small>                     
                </div>            
                <select class="form-control mt-2" ngModel formControlName="medida">
                    <option value="" selected>--Selecione a medida--</option>
                    <option *ngFor="let item of medida; let i = index" [value]="item">{{item}}</option>
                </select>                 
                <small *ngIf="cadastroForm.controls['medida'].touched && cadastroForm.controls['medida'].invalid" class="text-danger">Campo obrigatório</small>                                        
                <select class="form-control mt-3" ngModel formControlName="categoria">
                    <option value="" selected>--Selecione a categoria--</option>
                    <option *ngFor="let item of categoria; let i = index" [value]="item">{{item}}</option>
                </select>
                <small *ngIf="cadastroForm.controls['categoria'].touched && cadastroForm.controls['categoria'].invalid" class="text-danger">Campo obrigatório</small> 
                <div class="botoes mt-5 mb-3">
                    
                    <button class="btn btn-primary" [disabled]="cadastroForm.invalid" (click)="cadastrarProduto()">Cadastrar</button>
                    <button class="btn btn-warning" (click)="$event.preventDefault(); limparFormulario()">Limpar
                        Formulário</button>
                </div>    
                <div id="modal">
                    <button type="button" id="botaoModal" data-toggle="modal" data-target="#modalConfirmacao">                        
                    </button>
                </div>            
            </form>
        </div>
    </div>
</div>

<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="modalConfirmacao" tabindex="-1" role="dialog" aria-labelledby="modalConfirmacao"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalConfirmacao">Cadastro de Produtos</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>{{resposta}}</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="redirecionar()">Fechar</button>
            </div>
        </div>
    </div>
</div>